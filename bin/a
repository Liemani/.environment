#!/bin/bash

# entry of a command
# run a command

if [ "$1" = 'a' ]; then
  >&2 echo 'a : [a] as a_command is forbidden.'
  exit 1
elif [ $# -eq 0 ]; then
  >&2 echo 'usage : a <a_command> <arguments>'
  >&2 a ls
  exit 1
fi

command="$1"
shift

for p in $(echo $A_PATH | tr ':' '\n'); do
  if [ -x "$p/$command" ]; then
    "$p/$command" "$@"
    break
  fi
done
